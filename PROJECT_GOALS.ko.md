# C Visual Debugger — 프로젝트 목표(초안)

## 한 줄 요약
VS Code에서 C/C++ 디버깅을 할 때 “현재 상태”가 아니라 **상태 변화(변수 값의 변동, 실행 흐름의 이동)**를 빠르게 파악할 수 있게 돕는 확장을 만든다.

## 배경 / 문제
기본 디버거 UI(Call Stack / Variables / Watch)는 “지금 이 순간의 값”을 잘 보여주지만, 실제 디버깅에서는 다음이 반복해서 필요하다.

- 한 스텝 전과 비교해서 **무엇이 바뀌었는지** 빠르게 확인하기
- 특정 값이 바뀌기 시작한 지점까지 **흐름을 거슬러 올라가기**
- 팀원/리뷰어에게 “이 스텝에서 이 변수들이 이렇게 변했다”를 **공유 가능한 형태로 요약**하기

## 목표(Goals)
- **변화 중심 디버깅**: stopped/step마다 로컬 변수의 변경분을 감지하고 “이전값 → 현재값” 형태로 보여준다.
- **스택 트레이스 가시화**: 현재 스레드(또는 전체 스레드)의 Call Stack을 읽어와서 프레임을 탐색하고, 클릭 시 소스 위치로 이동한다.
- **스냅샷/비교**(확장 목표): 특정 stopped 시점의 locals(및 선택적으로 watch)를 저장하고 시점 간 diff를 제공한다.
- **공유/내보내기**: 변경 로그/스냅샷을 Markdown/JSON 등으로 복사 또는 파일로 내보낼 수 있게 한다.

## 비목표(Non-Goals)
- C/C++ 디버거 자체(`cppdbg`)를 대체하거나 새로운 디버그 어댑터를 만드는 것
- 성능 프로파일링, 커버리지, 코드 계측(instrumentation) 같은 별도 도구 영역
- “예쁜 차트/애니메이션”을 1차 목표로 삼는 것(필요 시 Webview로 단계적 확장)

## 사용자 시나리오
- **스텝 디버깅**: 브레이크포인트에서 멈추고 Step Over/Into를 하면서 “이번 스텝에서 바뀐 변수만” 확인한다.
- **원인 추적**: 값이 이상해진 시점부터 이전 스냅샷으로 이동하며 변경 시작 지점을 찾는다.
- **협업 공유**: 버그 재현 로그를 “변경된 변수 목록 + 콜스택”으로 복사해 이슈/메신저에 붙인다.

## MVP 범위(1차 출시)
- 사이드바 **TreeView** 제공(또는 Output 로그 fallback)
  - Threads(선택) → Call Stack(프레임) → Locals(변수) 구조
- stopped 이벤트 발생 시 자동 갱신
- Locals의 변경 감지 및 하이라이트(최소: 텍스트로 `prev → curr`)
- 프레임 클릭 시 해당 파일/라인으로 이동

## 기술 접근(요약)
- VS Code Extension에서 `DebugAdapterTrackerFactory`로 `cppdbg` 세션 메시지를 관찰한다.
- Debug Adapter Protocol 요청을 통해 데이터 수집:
  - `threads` → `stackTrace` → `scopes` → `variables`
- UI는 VS Code 표준 컨트롤(TreeView/Command/Context Menu) 위주로 구성하고, 필요 시 Webview로 확장한다.

## 성공 기준(예시)
- Step을 몇 번 밟아도 “변경된 변수만” 바로 보이며, 원인 추적 시간이 단축된다.
- 스택/변수 조회 실패 시에도 사용자가 다음 행동을 알 수 있는 오류 메시지가 나온다.
- 사용자가 “복사” 한 번으로 디버깅 맥락(콜스택 + 변경 변수)을 공유할 수 있다.

